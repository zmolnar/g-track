/**
 * @file AtCgnspwr.c
 * @brief
 */

/*****************************************************************************/
/* INCLUDES                                                                  */
/*****************************************************************************/
#include "AtCgnspwr.h"

#include "hal.h"
#include "chprintf.h"

#include <string.h>

/*****************************************************************************/
/* DEFINED CONSTANTS                                                         */
/*****************************************************************************/

/*****************************************************************************/
/* TYPE DEFINITIONS                                                          */
/*****************************************************************************/
typedef enum {
  GNSSPWR_OFF = 0,
  GNSSPWR_ON  = 1,
} CGNSPWR_Action_t;

/*****************************************************************************/
/* MACRO DEFINITIONS                                                         */
/*****************************************************************************/

/*****************************************************************************/
/* DEFINITION OF GLOBAL CONSTANTS AND VARIABLES                              */
/*****************************************************************************/

/*****************************************************************************/
/* DECLARATION OF LOCAL FUNCTIONS                                            */
/*****************************************************************************/

/*****************************************************************************/
/* DEFINITION OF LOCAL FUNCTIONS                                             */
/*****************************************************************************/
static bool atCgnspwrCreate(char buf[], size_t length, CGNSPWR_Action_t act)
{
  memset(buf, 0, length);
  chsnprintf(buf, length, "AT+CGNSPWR=%d", (int)act);
  return true;
}

/*****************************************************************************/
/* DEFINITION OF GLOBAL FUNCTIONS                                            */
/*****************************************************************************/
bool atCgnspwrCreateOn(char buf[], size_t length)
{
  return atCgnspwrCreate(buf, length, GNSSPWR_ON);
}

bool atCgnspwrCreateOff(char buf[], size_t length)
{
  return atCgnspwrCreate(buf, length, GNSSPWR_OFF);
}

/****************************** END OF FILE **********************************/
